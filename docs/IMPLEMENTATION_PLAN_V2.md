# 구현 계획 V3 (2026-02-10 기준)

- 작성일: 2026-02-10
- 기준 코드: FastAPI 비동기 구조 + 심층 분석 완료

## Phase 1. 보안/운영 안정화 (P0) - [진행 중/부분 완료]
- [x] `app/api/admin.py`에 관리자 인증/권한 검사 추가 (`require_admin` 적용)
- [ ] 관리자 업로드/삭제 API 감사 로그 추가
- [ ] 에러 로깅 시스템 고도화 (구조화된 로깅 도입 예정)

## Phase 2. 확장성 및 데이터 영속성 (P0) - [신규 최우선 과제]
- [ ] **세션 DB화**: `session.py`를 MongoDB TTL 컬렉션 기반으로 전환
- [ ] 다중 워커 프로세스 환경에서의 세션 정합성 확보
- [ ] 채팅 히스토리의 데이터베이스 영속화 (단기 저장 기준)

## Phase 3. 엔진 성능 최적화 (P1)
- [ ] **RAG 시동 속도 개선**: FAISS 인덱스 디스크 캐싱 (`index.faiss`)
- [ ] **DB 검색 고도화**: Learned Response 검색 시 MongoDB `$text` 검색 지원
- [ ] 레거시 코드(`chat.py`, `rag_engine.py` 등) 정리 및 제거

## Phase 4. 품질 및 UX 고도화 (P1)
- [ ] `strict_qa_suite.py`를 CI 단계에 연결
- [ ] `monitoring.py` 지표의 데이터베이스 영속화
- [ ] 프런트엔드 대시보드 UI 연동

## 완료 기준
1. 관리자 API 무인증 접근 불가 (완료)
2. 서버 재시작 시 세션 및 대화 흐름 유지 (영속성 확보)
3. 서버 부팅 시간 5초 이내 (인덱스 캐싱)
4. QA 자동화로 기본 회귀 방어 가능
